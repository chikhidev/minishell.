

$ "ls"
error.c   libft   Makefile  minishell  string.c
includes  main.c  memo.c    parsing    tests.txt
$ "ls -la"
ls -la: command not found
$ 


$ ls $HOME
1337     Documents  minishell  Pictures  snap       Videos
Desktop  Downloads  Music      Public    Templates
$ 


$ unset PATH
$ ls $HOME
bash: ls: No such file or directory
$ 


$ ls *
error.c  main.c  Makefile  memo.c  minishell  string.c  tests.txt

includes:
main.h  memo.h  parsing.h

libft:
ft_atoi.c     ft_itoa.c                ft_memcpy.o      ft_strchr.o    ft_strncmp.o
ft_atoi.o     ft_itoa.o                ft_memmove.c     ft_strdup.c    ft_strnstr.c
ft_bzero.c    ft_lstadd_back_bonus.c   ft_memmove.o     ft_strdup.o    ft_strnstr.o
ft_bzero.o    ft_lstadd_env_front_bonus.c  ft_memset.c      ft_striteri.c  ft_strrchr.c
ft_calloc.c   ft_lstclear_bonus.c      ft_memset.o      ft_striteri.o  ft_strrchr.o
ft_calloc.o   ft_lstdelone_bonus.c     ft_putchar_fd.c  ft_strjoin.c   ft_strtrim.c
ft_isalnum.c  ft_lstiter_bonus.c       ft_putchar_fd.o  ft_strjoin.o   ft_strtrim.o
ft_isalnum.o  ft_lstlast_bonus.c       ft_putendl_fd.c  ft_strlcat.c   ft_substr.c
ft_isalpha.c  ft_lstmap_bonus.c        ft_putendl_fd.o  ft_strlcat.o   ft_substr.o
ft_isalpha.o  ft_lstnew_bonus.c        ft_putnbr_fd.c   ft_strlcpy.c   ft_tolower.c
ft_isascii.c  ft_lstsize_bonus.c       ft_putnbr_fd.o   ft_strlcpy.o   ft_tolower.o
ft_isascii.o  ft_memchr.c              ft_putstr_fd.c   ft_strlen.c    ft_toupper.c
ft_isdigit.c  ft_memchr.o              ft_putstr_fd.o   ft_strlen.o    ft_toupper.o
ft_isdigit.o  ft_memcmp.c              ft_split.c       ft_strmapi.c   libft.a
ft_isprint.c  ft_memcmp.o              ft_split.o       ft_strmapi.o   libft.h
ft_isprint.o  ft_memcpy.c              ft_strchr.c      ft_strncmp.c   Makefile

parsing:
expanding.c  op.c         paranths.c  quoting.c        split.c
nodes.c      paranths2.c  parser.c    quoting_utils.c
$ 


$ "ls *"
ls *: command not found
$


$ ls >salah  # redirects to salah
$ ls ">salah" # runs ls on file ">salah"
'>salah'
------------ watch
➜   ls ">salah"
ls: cannot access '>salah': No such file or directory
➜   ls >salah
➜   ls ">salah"
ls: cannot access '>salah': No such file or directory
➜   ./minishell 
$ rm salah
$ ls >salah
$ cat salah
builtens
env_list.c
...
$ ls ">salah"
$ 




$ ls > *
bash: *: ambiguous redirect
$ 


$ ping google.com  #cmd doesnt stop until ^C
PING google.com (142.250.200.110) 56(84) bytes of data.
64 bytes from mad41s13-in-f14.1e100.net (142.250.200.110): icmp_seq=1 ttl=63 time=24.8 ms
64 bytes from mad41s13-in-f14.1e100.net (142.250.200.110): icmp_seq=2 ttl=63 time=33.8 ms
64 bytes from mad41s13-in-f14.1e100.net (142.250.200.110): icmp_seq=3 ttl=63 time=88.5 ms
64 bytes from mad41s13-in-f14.1e100.net (142.250.200.110): icmp_seq=4 ttl=63 time=24.8 ms
64 bytes from mad41s13-in-f14.1e100.net (142.250.200.110): icmp_seq=5 ttl=63 time=24.8 ms
64 bytes from mad41s13-in-f14.1e100.net (142.250.200.110): icmp_seq=6 ttl=63 time=24.8 ms
^C
--- google.com ping statistics ---
6 packets transmitted, 6 received, 0% packet loss, time 5040ms
rtt min/avg/max/mdev = 24.765/36.908/88.463/23.289 ms
$ 


cmd1 && (cmd2 || (cmd3 | testfile)) > (cmd2 || (cmd3 | testfile)) > (cmd2 || (cmd3 | testfile)) 



ls && cat << DLIMITER cm0 cmd1 cmd2 << DELIMITER2 cm0 cm1 || wc -l






# the input gotta be applied to all the commands within the scope
abchikhi@c4r8p6:~$  
line1
2
0





$> pwd
$> unset PWD
$> env | grep PWD
$> cd $PWD
$> pwd


➜  sgouzi minishell git:(parsing U:6 ?:2 ✗) (|)
bash: syntax error near unexpected token `|'
➜  sgouzi minishell git:(parsing U:6 ?:2 ✗) 

// must be fixed in syntax checker


valgrind --track-fds=yes ./minishell  // to check open fds


➜  sgouzi minishell git:(parsing U:11 ✗) ./minishell
$ echo '''"$Hecho '''"$HOME"'""
"/nfs/homes/sgouzi" 
$ 
➜  sgouzi minishell git:(parsing U:11 ✗) 



➜  sgouzi minishell git:(parsing U:11 ✗) export HOLA=24
➜  sgouzi minishell git:(parsing U:11 ✗) ./minishell 
$ export HOLA=12
$ echo $"HOLA"
$HOLA 
$ export HOLA=12
$ 
➜  sgouzi minishell git:(parsing U:11 ✗) echo $HOLA
24
➜  sgouzi minishell git:(parsing U:11 ✗) echo $"HOLA"
HOLA
➜  sgouzi minishell git:(parsing U:11 ✗)



➜  sgouzi minishell git:(parsing U:3 ✗) ./minishell 
$ echo $NOT_HING
Segmentation fault (core dumped)
➜  sgouzi minishell git:(parsing U:3 ✗) 






[DEBUG] line: (pwd && wd) << ls


wc << delim > file < main.c

here: wc takes input from main.c and outputs to file
(cmd1  < blockInput) <  globalInput > globalOutput



$ ls|wc&&ps
     22      22     207
s: command not found ya hamid

._.



$ < test wc > test
test: Permission denied
test: Permission denied
$ echo $?
0
$ 

➜  sgouzi minishell git:(parsing U:2 ?:1 ✗) < test wc > test
bash: test: Permission denied
➜  sgouzi minishell git:(parsing U:2 ?:1 ✗) echo $?
1
➜  sgouzi minishell git:(parsing U:2 ?:1 ✗) 




sgouzi@c3r10p6:~/Desktop/minishell$ valgrind --track-fds=yes ./minishell 
==1407185== Memcheck, a memory error detector
==1407185== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==1407185== Using Valgrind-3.18.1 and LibVEX; rerun with -h for copyright info
==1407185== Command: ./minishell
==1407185== 
$ pwd | wc > f
first 0 
last 1   2 
==1407238== 
==1407238== FILE DESCRIPTORS: 4 open (3 std) at exit.
==1407238== Open file descriptor 3: f
==1407238==    at 0x49D853B: open (open64.c:41)
==1407238==    by 0x405681: open_file (io.c:77)
==1407238==    by 0x40655D: tokenize (tokenizer.c:98)
==1407238==    by 0x403F32: process_cmd (split.c:110)
==1407238==    by 0x403E7B: smart_split (split.c:155)
==1407238==    by 0x403C65: process_op (split.c:93)
==1407238==    by 0x403E3C: smart_split (split.c:147)
==1407238==    by 0x402288: parser (parser.c:34)
==1407238==    by 0x401A79: main (main.c:166)
==1407238== 
==1407238== 
==1407238== HEAP SUMMARY:
==1407238==     in use at exit: 221,047 bytes in 891 blocks
==1407238==   total heap usage: 1,121 allocs, 230 frees, 245,719 bytes allocated
==1407238== 
==1407238== LEAK SUMMARY:
==1407238==    definitely lost: 0 bytes in 0 blocks
==1407238==    indirectly lost: 0 bytes in 0 blocks
==1407238==      possibly lost: 0 bytes in 0 blocks
==1407238==    still reachable: 221,047 bytes in 891 blocks
==1407238==         suppressed: 0 bytes in 0 blocks
==1407238== Rerun with --leak-check=full to see details of leaked memory
==1407238== 
==1407238== For lists of detected and suppressed errors, rerun with: -s
==1407238== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
$ 


Minihell$ ls&&ps
' '   a   b   c   d
s: command not found ya hamid
Minihell$ 



ls * -la : " "   ' ' problem


Minihell$ echo "'$USER"
abdoo



----------------------------------+
minishell$ << DL | wc             |
>                                 |
                                  |
                                  |
^C                                |
^C^C^C      7       0       7     |
minishell$                        |
----------------------------------+
