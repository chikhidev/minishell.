Minishell compiled successfully ðŸš€
sgouzi@c3r9p7:~/Desktop/minishell$ ./minishell 
>_$ echo $HOME
/nfs/homes/sgouzi
>_$ echo $HOME""
Quotes are not closed expecting "
>_$ echo $HOME""
Quotes are not closed expecting "
>_$ echo ""$HOME""
Quotes are not closed expecting "
>_$ echo ""$HOME"
Quotes are not closed expecting "
>_$ echo ""$HOME
/nfs/homes/sgouzi
>_$ echo ""$HOME
/nfs/homes/sgouzi
>_$ echo ""$HOME''
Quotes are not closed expecting '
>_$ echo ""$HOME'''
Quotes are not closed expecting '
>_$ echo ""$HOME''''
Quotes are not closed expecting '
=================================================================
==993197==ERROR: AddressSanitizer: heap-use-after-free on address 0x6030000040cf at pc 0x0000004dfdb3 bp 0x7ffe067ef790 sp 0x7ffe067ef788
READ of size 1 at 0x6030000040cf thread T0
    #0 0x4dfdb2 in is_open_whitespace /nfs/homes/sgouzi/Desktop/minishell/strings/string6.c:38:24
    #1 0x4d615c in tokenize /nfs/homes/sgouzi/Desktop/minishell/parsing/tokenizer.c:128:25
    #2 0x4d1ade in process_cmd /nfs/homes/sgouzi/Desktop/minishell/parsing/split.c:95:13
    #3 0x4d17cf in smart_split /nfs/homes/sgouzi/Desktop/minishell/parsing/split.c:156:7
    #4 0x4cec3b in parser /nfs/homes/sgouzi/Desktop/minishell/parsing/parser.c:20:2
    #5 0x4cd24f in main /nfs/homes/sgouzi/Desktop/minishell/main.c:249:7
    #6 0x7f0a3d90ad8f in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16
    #7 0x7f0a3d90ae3f in __libc_start_main csu/../csu/libc-start.c:392:3
    #8 0x41f3c4 in _start (/nfs/homes/sgouzi/Desktop/minishell/minishell+0x41f3c4)

0x6030000040cf is located 15 bytes inside of 18-byte region [0x6030000040c0,0x6030000040d2)
freed by thread T0 here:
    #0 0x49a022 in free (/nfs/homes/sgouzi/Desktop/minishell/minishell+0x49a022)
    #1 0x4cd989 in gc_void /nfs/homes/sgouzi/Desktop/minishell/memo.c:147:3
    #2 0x4ce5dd in error /nfs/homes/sgouzi/Desktop/minishell/error.c:13:2
    #3 0x4cf779 in track_quotes /nfs/homes/sgouzi/Desktop/minishell/parsing/quoting.c:62:11
    #4 0x4d4670 in append_word /nfs/homes/sgouzi/Desktop/minishell/parsing/tokenizer.c:42:6
    #5 0x4d5bfe in saver /nfs/homes/sgouzi/Desktop/minishell/parsing/tokenizer.c:105:17
    #6 0x4d6e6f in tokenize /nfs/homes/sgouzi/Desktop/minishell/parsing/tokenizer.c:146:36
    #7 0x4d1ade in process_cmd /nfs/homes/sgouzi/Desktop/minishell/parsing/split.c:95:13
    #8 0x4d17cf in smart_split /nfs/homes/sgouzi/Desktop/minishell/parsing/split.c:156:7
    #9 0x4cec3b in parser /nfs/homes/sgouzi/Desktop/minishell/parsing/parser.c:20:2
    #10 0x4cd24f in main /nfs/homes/sgouzi/Desktop/minishell/main.c:249:7
    #11 0x7f0a3d90ad8f in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16

previously allocated by thread T0 here:
    #0 0x49a28d in malloc (/nfs/homes/sgouzi/Desktop/minishell/minishell+0x49a28d)
    #1 0x4cd41f in gc_malloc /nfs/homes/sgouzi/Desktop/minishell/memo.c:8:8
    #2 0x4ea289 in ft_strdup (/nfs/homes/sgouzi/Desktop/minishell/minishell+0x4ea289)
    #3 0x4cb706 in handle_prompt /nfs/homes/sgouzi/Desktop/minishell/main.c:39:8
    #4 0x4cd0fb in main /nfs/homes/sgouzi/Desktop/minishell/main.c:239:9
    #5 0x7f0a3d90ad8f in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16

SUMMARY: AddressSanitizer: heap-use-after-free /nfs/homes/sgouzi/Desktop/minishell/strings/string6.c:38:24 in is_open_whitespace
Shadow bytes around the buggy address:
  0x0c067fff87c0: 00 fa fa fa fd fd fd fa fa fa fd fd fd fa fa fa
  0x0c067fff87d0: fd fd fd fa fa fa fd fd fd fd fa fa fd fd fd fd
  0x0c067fff87e0: fa fa fd fd fd fd fa fa fd fd fd fa fa fa 00 00
  0x0c067fff87f0: 04 fa fa fa 00 00 04 fa fa fa 00 00 00 fa fa fa
  0x0c067fff8800: fd fd fd fd fa fa fd fd fd fa fa fa 00 00 00 fa
=>0x0c067fff8810: fa fa fd fd fd fa fa fa fd[fd]fd fa fa fa 00 00
  0x0c067fff8820: 00 fa fa fa 00 00 01 fa fa fa fd fd fd fa fa fa
  0x0c067fff8830: fd fd fd fd fa fa fd fd fd fd fa fa fd fd fd fd
  0x0c067fff8840: fa fa fd fd fd fd fa fa fd fd fd fd fa fa fd fd
  0x0c067fff8850: fd fd fa fa fd fd fd fd fa fa fd fd fd fd fa fa
  0x0c067fff8860: fd fd fd fd fa fa fd fd fd fd fa fa fd fd fd fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
  Shadow gap:              cc
==993197==ABORTING
sgouzi@c3r9p7:~/Desktop/minishell$ 




>_$ export a
-> a
>_$ $a=$a
>_$ 


must be    =  but i get nothing

seg fault in 
env -i valgrind ./minishell 

echo $_